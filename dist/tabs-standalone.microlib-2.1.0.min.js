function forEach(t,s){"use strict";for(var a=0;a<t.length;a++)s(a,t[a])}function makeUID(){"use strict";return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}function hasClass(t,s){"use strict";return-1!==t.className.split(" ").indexOf(s)}function addClass(t,s){"use strict";var a=t.className.split(" ");hasClass(t,s)||a.push(s),t.className=a.join(" ")}function removeClass(t,s){"use strict";var a=t.className.split(" ");hasClass(t,s)&&a.splice(a.indexOf(s),1),t.className=a.join(" ")}function findFromElement(t,s){"use strict";var a=t.children,e=[];return forEach(a,function(t,a){(hasClass(a,s)||a.id===s)&&e.push(a)}),e}var MicroTabs=function(t,s){if(!t||"string"!=typeof t&&t===Object(t))throw new TypeError("Element is expected to be of type string or object.");s||(s={}),this.options={tab_class:s.hasOwnProperty("tab_class")?s.tab_class:"microlib_tabs_tab",nav_class:s.hasOwnProperty("nav_class")?s.nav_class:"microlib_tabs_nav",nav_item_class:s.hasOwnProperty("nav_item_class")?s.nav_item_class:"microlib_tabs_nav_item",active_class:s.hasOwnProperty("active_class")?s.active_class:"microlib_active"},"string"==typeof t?"#"===t.indexOf(0)?this._element=document.querySelector(t):this._element=document.querySelectorAll(t):this._element=t,this._tabs=this._findTabs(),this._generateTabNavigation(),this.onChange=function(t,s,a){}};MicroTabs.prototype._findTabs=function(){var t=this,s=[];return forEach(this._element,function(a,e){var i=findFromElement(e,t.options.tab_class);forEach(i,function(t,s){s.id="microlib_tabs_"+makeUID()}),s.push(i)}),s},MicroTabs.prototype._generateTabNavigation=function(){var t=this;forEach(this._tabs,function(s,a){var e=document.createElement("div");addClass(e,t.options.nav_class);var i="";forEach(a,function(s,a){i&&""!==i||(i=a.parentNode);var n=document.createElement("div");addClass(n,t.options.nav_item_class),n.setAttribute("data-target",a.id),n.innerHTML=a.getAttribute("data-title"),n.addEventListener("click",t._processClick.bind(t)),0===s&&addClass(n,t.options.active_class),e.appendChild(n)}),i.insertBefore(e,a[0]),addClass(a[0],t.options.active_class)})},MicroTabs.prototype._processClick=function(t){var s=this,a=t.target.getAttribute("data-target"),e=document.querySelector("#"+a),i=findFromElement(t.target.parentNode.parentNode,this.options.tab_class);forEach(findFromElement(t.target.parentNode,this.options.nav_item_class),function(t,a){removeClass(a,s.options.active_class)}),forEach(i,function(t,a){removeClass(a,s.options.active_class)}),addClass(e,this.options.active_class),addClass(t.target,this.options.active_class),this.onChange(e,t.target,t)},window.ML=window.ML||{},window.ML.Tabs=MicroTabs;